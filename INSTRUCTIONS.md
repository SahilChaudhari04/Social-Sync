```markdown
### Basic Flow:

1. **schemaPrototype -> model in prisma/schema.prisma**
   
   - Run:
     ```
     npx prisma migrate dev
     npx prisma generate
     ```
     (Ensure server is not running)

2. **schema.prisma -> src/modules/EntityName/EntityNameSchema.ts**
   
   - Create validation schemas and generate types for requests using `z.infer`.
   (See eg. `src/modules/user/userSchema.ts` line 59)

3. **src/server.js -> Add the written schemas in a for loop**
   
   - Unpack the `EntityNameSchemas`.
   (Check out `src/server.js` line 45)

4. **EntityNameSchema.ts -> src/modules/EntityName/EntityNameRoutes.ts**
   
   - Add schemas to routes using:
     ```typescript
     app.methodName("/routeName",{schemaDeclarations},routeController)
     ```

5. **EntityNameRoutes.ts -> src/modules/EntityName/EntityNameControllers.ts**
   
   - Use types generated by `z.infer` in `EntityNameSchema.ts` as types of Body/Params/Query in request/response parameters of controllers.

6. **EntityNameRoutes.ts -> src/server.ts**
   
   - Register the routes.

### For Using Auth:

- Authorization Bearer {{TOKEN}} in headers.

- Use `preHandler: [server.authenticate]` in your route.
  (See eg. `src/modules/user/userRoutes.ts` line 34)

- Now you can access the authenticated user's userId in your controller by `request.user.userId`.
  (See eg. `src/modules/user/userControllers.ts` line 60)
```
